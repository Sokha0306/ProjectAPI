{% load static %}

<!doctype html>
<html lang="zxx">
<head>
  {% include 'TZ/head.html' %}

  <!-- CSS here -->
      {% include 'TZ/CSS.html' %}
</head>

<body>
  <header>
    <!-- Header Start -->
    {% include 'TZ/HeaderStart.html' %}
    <!-- Header End -->
  </header>
  <main>
      <!-- Hero Area Start-->
      <div class="slider-area ">
          <div class="single-slider slider-height2 d-flex align-items-center">
              <div class="container">
                  <div class="row">
                      <div class="col-xl-12">
                          <div class="hero-cap text-center">
                              <h2>Cart List</h2>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
      <!--================Cart Area =================-->
      <section class="cart_area section_padding">
        <div class="container">
          <div class="cart_inner">
            <div class="table-responsive">
              <h2>Your Cart</h2>
                <table class="table">
                  <thead>
                    <tr>
                      <tr>
                        <th>Image</th>
                        <th>Product</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Subtotal</th>
                        <th>Action</th>
                      </tr>
                     {% for key, item in cart.items %}
                          <tr>
                            <td><img src="{{ item.image|default:'/static/img/placeholder.png' }}" width="80" alt="{{ item.productName }}" /></td>
                            <td>{{ item.productName }}</td>
                            <td>{{ item.quantity }}</td>
                            <td>${{ item.price }}</td>
                            <td>${{ item.subtotal|floatformat:2 }}</td>
                            <td>
                              {% if item.product_type and item.product_id %}
                                <a href="{% url 'remove_from_cart' item.product_type item.product_id %}">Remove</a>
                                <pre>{{ cart|safe }}</pre>
                              {% else %}
                                <span style="color:red;">
                                  Invalid data! product_type: '{{ item.product_type }}', product_id: '{{ item.product_id }}'
                                </span>
                              {% endif %}

                            </td>
                          </tr>
                        {% endfor %}






                  </tbody>
                </table>

                <h3>Total: ${{ total_price|floatformat:2 }}</h3>

              <div class="checkout_btn_inner float-right">
                <a class="btn_1" href="{% url 'ShopTZ' %}">Continue Shopping</a>
                <a class="btn_1 checkout_btn_1" href="{% url 'CheckoutTZ' %}">Proceed to checkout</a>
              </div>
            </div>
          </div>
      </section>
      <!--================End Cart Area =================-->
  </main>>
  <footer>
      <!-- Footer Start-->
      {% include 'TZ/FooterStart.html' %}
      <!-- Footer End-->
  </footer>
  <!--? Search model Begin -->
  {% include 'TZ/SearchModelBegin.html' %}
  <!-- Search model end -->

  <!-- JS here -->

  {% include 'TZ/JShere.html' %}

</body>
</html>